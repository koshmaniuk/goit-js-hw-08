{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector(\".feedback-form\")\nconst localStorageKey = \"feedback-form-state\";\n\nform.addEventListener (\"input\", throttle(onInput, 500));\nform.addEventListener (\"submit\", onSubmit);\n\nlet inputData = {};\n\nfunction onInput() {\n  inputData = {\n    email: form.email.value,\n    message: form.message.value\n  };\nlocalStorage.setItem(localStorageKey, JSON.stringify(inputData));\n}\n\nfunction checkStorage () {\n  let checkLocalStorage = JSON.parse(localStorage.getItem(localStorageKey));\n \n  if (checkLocalStorage !== null) {\n    inputData = checkLocalStorage;\n    for (const key in checkLocalStorage) {\n      form.elements[key].value = checkLocalStorage[key];\n    }\n  } \n}\ncheckStorage()\n\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  if (event.target.email.value === '' || event.target.message.value === '') {\n    return alert('Please fill in all the fields!');\n  }\n  \n  console.log(inputData);\n  event.target.reset();\n  localStorage.removeItem('feedback-form-state');\n  }\n  "],"names":["form","localStorageKey","throttle","onInput","onSubmit","inputData","checkStorage","checkLocalStorage","key","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExBD,EAAK,iBAAkB,QAASE,EAASC,EAAS,GAAG,CAAC,EACtDH,EAAK,iBAAkB,SAAUI,CAAQ,EAEzC,IAAIC,EAAY,CAAA,EAEhB,SAASF,GAAU,CACjBE,EAAY,CACV,MAAOL,EAAK,MAAM,MAClB,QAASA,EAAK,QAAQ,KAC1B,EACA,aAAa,QAAQC,EAAiB,KAAK,UAAUI,CAAS,CAAC,CAC/D,CAEA,SAASC,GAAgB,CACvB,IAAIC,EAAoB,KAAK,MAAM,aAAa,QAAQN,CAAe,CAAC,EAExE,GAAIM,IAAsB,KAAM,CAC9BF,EAAYE,EACZ,UAAWC,KAAOD,EAChBP,EAAK,SAASQ,GAAK,MAAQD,EAAkBC,EAEhD,CACH,CACAF,EAAc,EAId,SAASF,EAASK,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,MAAM,QAAU,IAAMA,EAAM,OAAO,QAAQ,QAAU,GACpE,OAAO,MAAM,gCAAgC,EAG/C,QAAQ,IAAIJ,CAAS,EACrBI,EAAM,OAAO,QACb,aAAa,WAAW,qBAAqB,CAC/C"}